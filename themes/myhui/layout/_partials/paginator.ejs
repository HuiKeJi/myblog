<% if (page.total > 1) { %>
  <nav aria-label="navigation">
    <span class="pagination" id="pagination">
      <%- paginator({
        prev_text: '<i class="iconfont icon-arrowleft"></i>',
        next_text: '<i class="iconfont icon-arrowright"></i>',
        mid_size: 2,
        end_size: 1,
        format: config.pagination_dir + '/%d/#board',
        escape: false
      }) %>
    </span>
  </nav>

  <script>
    // 在分页渲染后修复第一页链接
    document.addEventListener('DOMContentLoaded', () => {
      const pageLinks = document.querySelectorAll('#pagination a');
      pageLinks.forEach(link => {
        if (link.textContent.trim() === '1') {
          link.setAttribute('href', '/#board');
        }
      });
    });
  </script>
<% } %>
